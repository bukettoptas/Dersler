<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strassen Matris Ã‡arpÄ±mÄ± Animasyonu</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .canvas-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        canvas {
            border: 2px solid #ddd;
            border-radius: 10px;
            background: #f9f9f9;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            padding: 12px 30px;
            font-size: 16px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        .primary-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        .secondary-btn {
            background: #f0f0f0;
            color: #333;
        }
        .secondary-btn:hover {
            background: #e0e0e0;
        }
        .info-panel {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .step-info {
            font-size: 18px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }
        .description {
            color: #666;
            line-height: 1.6;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        .comparison-title {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }
        .highlight {
            color: #e74c3c;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§® Strassen Matris Ã‡arpÄ±mÄ±</h1>
        <p class="subtitle">BÃ¶l ve YÃ¶net AlgoritmasÄ± ile HÄ±zlÄ± Matris Ã‡arpÄ±mÄ±</p>

        <div class="comparison">
            <div class="comparison-box">
                <div class="comparison-title">Klasik YÃ¶ntem</div>
                <div>8 Ã§arpma + 4 toplama</div>
                <div>O(nÂ³) karmaÅŸÄ±klÄ±k</div>
            </div>
            <div class="comparison-box">
                <div class="comparison-title">Strassen YÃ¶ntemi</div>
                <div class="highlight">7 Ã§arpma</div> + 18 toplama
                <div>O(n^2.807) karmaÅŸÄ±klÄ±k</div>
            </div>
        </div>

        <div class="controls">
            <button class="primary-btn" onclick="startAnimation()">â–¶ Animasyonu BaÅŸlat</button>
            <button class="secondary-btn" onclick="resetAnimation()">â†º SÄ±fÄ±rla</button>
            <button class="secondary-btn" onclick="nextStep()">â†’ Sonraki AdÄ±m</button>
        </div>

        <div class="canvas-container">
            <canvas id="canvas" width="900" height="600"></canvas>
        </div>

        <div class="info-panel">
            <div class="step-info" id="stepTitle">AdÄ±m: BaÅŸlangÄ±Ã§</div>
            <div class="description" id="stepDescription">
                BaÅŸlamak iÃ§in "Animasyonu BaÅŸlat" butonuna tÄ±klayÄ±n. 
                Strassen algoritmasÄ± matrisleri 4 parÃ§aya bÃ¶ler ve 7 Ã¶zel Ã§arpma ile sonucu hesaplar.
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let currentStep = 0;
        let animationRunning = false;
        let animationInterval = null;

        const steps = [
            {
                title: "BaÅŸlangÄ±Ã§: 2Ã—2 Matrisler",
                description: "Ä°ki 2Ã—2 matrisi Ã§arpacaÄŸÄ±z. A ve B matrislerini gÃ¶rebilirsiniz.",
                draw: drawInitialMatrices
            },
            {
                title: "AdÄ±m 1: Matrisleri BÃ¶l",
                description: "Her matrisi 4 alt matrise bÃ¶lÃ¼yoruz: A11, A12, A21, A22 ve B11, B12, B21, B22",
                draw: drawDivideMatrices
            },
            {
                title: "AdÄ±m 2: M1 = (A11 + A22) Ã— (B11 + B22)",
                description: "Ä°lk Ã¶zel Ã§arpma: KÃ¶ÅŸegen elemanlarÄ±n toplamlarÄ±nÄ± Ã§arpÄ±yoruz",
                draw: () => drawMCalculation(1)
            },
            {
                title: "AdÄ±m 3: M2 = (A21 + A22) Ã— B11",
                description: "Sol alt elemanlarÄ±n toplamÄ±nÄ± B11 ile Ã§arpÄ±yoruz",
                draw: () => drawMCalculation(2)
            },
            {
                title: "AdÄ±m 4: M3 = A11 Ã— (B12 - B22)",
                description: "A11'i saÄŸ elemanlarÄ±n farkÄ± ile Ã§arpÄ±yoruz",
                draw: () => drawMCalculation(3)
            },
            {
                title: "AdÄ±m 5: M4 = A22 Ã— (B21 - B11)",
                description: "A22'yi sol elemanlarÄ±n farkÄ± ile Ã§arpÄ±yoruz",
                draw: () => drawMCalculation(4)
            },
            {
                title: "AdÄ±m 6: M5 = (A11 + A12) Ã— B22",
                description: "Ãœst elemanlarÄ±n toplamÄ±nÄ± B22 ile Ã§arpÄ±yoruz",
                draw: () => drawMCalculation(5)
            },
            {
                title: "AdÄ±m 7: M6 = (A21 - A11) Ã— (B11 + B12)",
                description: "Sol elemanlarÄ±n farkÄ±nÄ± Ã¼st elemanlarÄ±n toplamÄ± ile Ã§arpÄ±yoruz",
                draw: () => drawMCalculation(6)
            },
            {
                title: "AdÄ±m 8: M7 = (A12 - A22) Ã— (B21 + B22)",
                description: "SaÄŸ elemanlarÄ±n farkÄ±nÄ± alt elemanlarÄ±n toplamÄ± ile Ã§arpÄ±yoruz",
                draw: () => drawMCalculation(7)
            },
            {
                title: "AdÄ±m 9: Sonucu BirleÅŸtir",
                description: "7 M deÄŸerini kullanarak C matrisini hesaplÄ±yoruz:\nC11 = M1 + M4 - M5 + M7\nC12 = M3 + M5\nC21 = M2 + M4\nC22 = M1 - M2 + M3 + M6",
                draw: drawFinalResult
            }
        ];

        // Ã–rnek matrisler
        const A = [[1, 2], [3, 4]];
        const B = [[5, 6], [7, 8]];
        const M = [0, 0, 0, 0, 0, 0, 0, 0]; // M1-M7 (0 indeks kullanÄ±lmÄ±yor)

        // M deÄŸerlerini hesapla
        M[1] = (A[0][0] + A[1][1]) * (B[0][0] + B[1][1]); // M1
        M[2] = (A[1][0] + A[1][1]) * B[0][0]; // M2
        M[3] = A[0][0] * (B[0][1] - B[1][1]); // M3
        M[4] = A[1][1] * (B[1][0] - B[0][0]); // M4
        M[5] = (A[0][0] + A[0][1]) * B[1][1]; // M5
        M[6] = (A[1][0] - A[0][0]) * (B[0][0] + B[0][1]); // M6
        M[7] = (A[0][1] - A[1][1]) * (B[1][0] + B[1][1]); // M7

        function drawMatrix(x, y, matrix, label, highlight = []) {
            ctx.font = 'bold 18px Arial';
            ctx.fillStyle = '#667eea';
            ctx.fillText(label, x, y - 10);

            const cellSize = 60;
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;

            matrix.forEach((row, i) => {
                row.forEach((val, j) => {
                    const cellX = x + j * cellSize;
                    const cellY = y + i * cellSize;

                    // Highlight kontrol
                    if (highlight.some(h => h[0] === i && h[1] === j)) {
                        ctx.fillStyle = '#ffd700';
                        ctx.fillRect(cellX, cellY, cellSize, cellSize);
                    }

                    ctx.strokeRect(cellX, cellY, cellSize, cellSize);
                    
                    ctx.fillStyle = '#333';
                    ctx.font = 'bold 24px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(val, cellX + cellSize/2, cellY + cellSize/2);
                });
            });
            ctx.textAlign = 'left';
            ctx.textBaseline = 'alphabetic';
        }

        function drawInitialMatrices() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawMatrix(100, 100, A, 'Matris A');
            drawMatrix(300, 100, B, 'Matris B');
            
            ctx.font = 'bold 36px Arial';
            ctx.fillStyle = '#667eea';
            ctx.fillText('Ã—', 250, 150);
            ctx.fillText('=', 450, 150);
            ctx.fillText('?', 550, 150);
        }

        function drawDivideMatrices() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // A matrisi bÃ¶lÃ¼nmÃ¼ÅŸ
            drawMatrix(50, 80, [[A[0][0]]], 'A11', [[0, 0]]);
            drawMatrix(130, 80, [[A[0][1]]], 'A12', [[0, 0]]);
            drawMatrix(50, 160, [[A[1][0]]], 'A21', [[0, 0]]);
            drawMatrix(130, 160, [[A[1][1]]], 'A22', [[0, 0]]);

            // B matrisi bÃ¶lÃ¼nmÃ¼ÅŸ
            drawMatrix(250, 80, [[B[0][0]]], 'B11', [[0, 0]]);
            drawMatrix(330, 80, [[B[0][1]]], 'B12', [[0, 0]]);
            drawMatrix(250, 160, [[B[1][0]]], 'B21', [[0, 0]]);
            drawMatrix(330, 160, [[B[1][1]]], 'B22', [[0, 0]]);

            // Ok ve aÃ§Ä±klama
            ctx.font = '20px Arial';
            ctx.fillStyle = '#e74c3c';
            ctx.fillText('Her matris 4 parÃ§aya bÃ¶lÃ¼ndÃ¼', 50, 300);
        }

        function drawMCalculation(mIndex) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const formulas = [
                '',
                '(A11 + A22) Ã— (B11 + B22)',
                '(A21 + A22) Ã— B11',
                'A11 Ã— (B12 - B22)',
                'A22 Ã— (B21 - B11)',
                '(A11 + A12) Ã— B22',
                '(A21 - A11) Ã— (B11 + B12)',
                '(A12 - A22) Ã— (B21 + B22)'
            ];

            ctx.font = 'bold 24px Arial';
            ctx.fillStyle = '#667eea';
            ctx.fillText(`M${mIndex} = ${formulas[mIndex]}`, 50, 50);

            ctx.font = 'bold 32px Arial';
            ctx.fillStyle = '#e74c3c';
            ctx.fillText(`M${mIndex} = ${M[mIndex]}`, 50, 120);

            // Ä°lerleme Ã§ubuÄŸu
            ctx.fillStyle = '#e0e0e0';
            ctx.fillRect(50, 180, 800, 30);
            ctx.fillStyle = '#667eea';
            ctx.fillRect(50, 180, (800 / 7) * mIndex, 30);

            ctx.fillStyle = '#333';
            ctx.font = '18px Arial';
            ctx.fillText(`${mIndex}/7 Ã§arpma tamamlandÄ±`, 50, 240);

            // Daha Ã¶nce hesaplanan M'ler
            ctx.font = '16px Arial';
            let yPos = 280;
            for (let i = 1; i <= mIndex; i++) {
                ctx.fillStyle = i === mIndex ? '#e74c3c' : '#666';
                ctx.fillText(`M${i} = ${M[i]}`, 50, yPos);
                yPos += 25;
            }
        }

        function drawFinalResult() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // SonuÃ§ matrisi hesapla
            const C = [
                [M[1] + M[4] - M[5] + M[7], M[3] + M[5]],
                [M[2] + M[4], M[1] - M[2] + M[3] + M[6]]
            ];

            drawMatrix(100, 80, A, 'A');
            drawMatrix(300, 80, B, 'B');
            drawMatrix(550, 80, C, 'C = A Ã— B');

            ctx.font = 'bold 36px Arial';
            ctx.fillStyle = '#667eea';
            ctx.fillText('Ã—', 250, 130);
            ctx.fillText('=', 490, 130);

            // FormÃ¼ller
            ctx.font = '16px Arial';
            ctx.fillStyle = '#333';
            const formulas = [
                'C11 = M1 + M4 - M5 + M7',
                'C12 = M3 + M5',
                'C21 = M2 + M4',
                'C22 = M1 - M2 + M3 + M6'
            ];

            let yPos = 280;
            formulas.forEach((formula, i) => {
                ctx.fillText(formula, 50, yPos);
                yPos += 30;
            });

            // BaÅŸarÄ± mesajÄ±
            ctx.font = 'bold 24px Arial';
            ctx.fillStyle = '#27ae60';
            ctx.fillText('âœ“ 7 Ã§arpma ile tamamlandÄ±!', 50, 450);
        }

        function updateStep() {
            const step = steps[currentStep];
            document.getElementById('stepTitle').textContent = step.title;
            document.getElementById('stepDescription').textContent = step.description;
            step.draw();
        }

        function startAnimation() {
            if (animationRunning) return;
            animationRunning = true;
            currentStep = 0;
            
            animationInterval = setInterval(() => {
                updateStep();
                currentStep++;
                if (currentStep >= steps.length) {
                    currentStep = 0;
                }
            }, 3000);
        }

        function resetAnimation() {
            if (animationInterval) {
                clearInterval(animationInterval);
                animationInterval = null;
            }
            animationRunning = false;
            currentStep = 0;
            updateStep();
        }

        function nextStep() {
            if (animationInterval) {
                clearInterval(animationInterval);
                animationInterval = null;
                animationRunning = false;
            }
            currentStep = (currentStep + 1) % steps.length;
            updateStep();
        }

        // Ä°lk adÄ±mÄ± gÃ¶ster
        updateStep();
    </script>
</body>
</html>
