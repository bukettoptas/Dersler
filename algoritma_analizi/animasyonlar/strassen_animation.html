<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strassen Matris Ã‡arpÄ±mÄ± Animasyonu</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        .canvas-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }
        canvas {
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
            align-items: center;
        }
        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
            background: #f8f9fa;
            padding: 12px 20px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }
        .speed-control label {
            font-weight: bold;
            color: #333;
            font-size: 14px;
        }
        .speed-slider {
            width: 150px;
            height: 6px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        .speed-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .speed-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .speed-value {
            font-weight: bold;
            color: #667eea;
            min-width: 40px;
            text-align: center;
        }
        button {
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .info-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .step-info {
            font-size: 18px;
            color: #333;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .calculation {
            font-family: 'Courier New', monospace;
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin-top: 10px;
            font-size: 14px;
            border-left: 4px solid #667eea;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .method {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #ddd;
        }
        .method h3 {
            margin-top: 0;
            color: #667eea;
        }
        .highlight {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Strassen Matris Ã‡arpÄ±mÄ±</h1>
        <p class="subtitle">BÃ¶l ve YÃ¶net ile HÄ±zlÄ± Matris Ã‡arpma</p>
        
        <div class="canvas-container">
            <canvas id="canvas" width="900" height="600"></canvas>
        </div>
        
        <div class="controls">
            <button id="startBtn">â–¶ï¸ BaÅŸlat</button>
            <button id="pauseBtn" disabled>â¸ï¸ Duraklat</button>
            <button id="resetBtn">ğŸ”„ SÄ±fÄ±rla</button>
            <button id="stepBtn">â­ï¸ Sonraki AdÄ±m</button>
            
            <div class="speed-control">
                <label for="speedSlider">âš¡ HÄ±z:</label>
                <input type="range" id="speedSlider" class="speed-slider" min="1" max="5" value="3" step="1">
                <span class="speed-value" id="speedValue">3x</span>
            </div>
        </div>
        
        <div class="info-panel">
            <div class="step-info" id="stepInfo">BaÅŸlatmak iÃ§in â–¶ï¸ butonuna basÄ±n</div>
            <div class="calculation" id="calculation"></div>
            
            <div class="comparison">
                <div class="method">
                    <h3>ğŸ“Š Klasik YÃ¶ntem</h3>
                    <p>Ã‡arpma sayÄ±sÄ±: <span class="highlight">8</span></p>
                    <p>Toplama sayÄ±sÄ±: <span class="highlight">4</span></p>
                    <p>Zaman karmaÅŸÄ±klÄ±ÄŸÄ±: O(nÂ³)</p>
                </div>
                <div class="method">
                    <h3>âš¡ Strassen YÃ¶ntemi</h3>
                    <p>Ã‡arpma sayÄ±sÄ±: <span class="highlight">7</span></p>
                    <p>Toplama sayÄ±sÄ±: <span class="highlight">18</span></p>
                    <p>Zaman karmaÅŸÄ±klÄ±ÄŸÄ±: O(n^2.807)</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const stepBtn = document.getElementById('stepBtn');
        const stepInfo = document.getElementById('stepInfo');
        const calculation = document.getElementById('calculation');
        const speedSlider = document.getElementById('speedSlider');
        const speedValue = document.getElementById('speedValue');

        let animationId;
        let currentStep = 0;
        let isPaused = false;
        let stepMode = false;
        let animationSpeed = 3; // VarsayÄ±lan hÄ±z

        // HÄ±z deÄŸerlerini milisaniye cinsinden tanÄ±mla (hÄ±z arttÄ±kÃ§a sÃ¼re azalÄ±r)
        const speedSettings = {
            1: 4000,  // Ã‡ok yavaÅŸ
            2: 3000,  // YavaÅŸ
            3: 2000,  // Normal
            4: 1000,  // HÄ±zlÄ±
            5: 500    // Ã‡ok hÄ±zlÄ±
        };

        // HÄ±z slider'Ä± event listener
        speedSlider.addEventListener('input', (e) => {
            animationSpeed = parseInt(e.target.value);
            speedValue.textContent = animationSpeed + 'x';
        });

        // Matris verileri
        const A = [[1, 3], [7, 5]];
        const B = [[6, 8], [4, 2]];
        const C = [[0, 0], [0, 0]];

        // Strassen ara hesaplamalarÄ±
        const M = new Array(7);

        const steps = [
            { 
                title: "AdÄ±m 0: BaÅŸlangÄ±Ã§ Matrisleri",
                desc: "A ve B matrislerini gÃ¶relim",
                calc: "A = [[1,3], [7,5]]  ve  B = [[6,8], [4,2]]"
            },
            {
                title: "AdÄ±m 1: Matrisleri BÃ¶lelim",
                desc: "Her matrisi 4 alt-matrise bÃ¶lelim (2x2 iÃ§in tek eleman)",
                calc: "A11=1, A12=3, A21=7, A22=5\nB11=6, B12=8, B21=4, B22=2"
            },
            {
                title: "AdÄ±m 2: M1 Hesaplama",
                desc: "M1 = (A11 + A22) Ã— (B11 + B22)",
                calc: "M1 = (1 + 5) Ã— (6 + 2) = 6 Ã— 8 = 48"
            },
            {
                title: "AdÄ±m 3: M2 Hesaplama",
                desc: "M2 = (A21 + A22) Ã— B11",
                calc: "M2 = (7 + 5) Ã— 6 = 12 Ã— 6 = 72"
            },
            {
                title: "AdÄ±m 4: M3 Hesaplama",
                desc: "M3 = A11 Ã— (B12 - B22)",
                calc: "M3 = 1 Ã— (8 - 2) = 1 Ã— 6 = 6"
            },
            {
                title: "AdÄ±m 5: M4 Hesaplama",
                desc: "M4 = A22 Ã— (B21 - B11)",
                calc: "M4 = 5 Ã— (4 - 6) = 5 Ã— (-2) = -10"
            },
            {
                title: "AdÄ±m 6: M5 Hesaplama",
                desc: "M5 = (A11 + A12) Ã— B22",
                calc: "M5 = (1 + 3) Ã— 2 = 4 Ã— 2 = 8"
            },
            {
                title: "AdÄ±m 7: M6 Hesaplama",
                desc: "M6 = (A21 - A11) Ã— (B11 + B12)",
                calc: "M6 = (7 - 1) Ã— (6 + 8) = 6 Ã— 14 = 84"
            },
            {
                title: "AdÄ±m 8: M7 Hesaplama",
                desc: "M7 = (A12 - A22) Ã— (B21 + B22)",
                calc: "M7 = (3 - 5) Ã— (4 + 2) = (-2) Ã— 6 = -12"
            },
            {
                title: "AdÄ±m 9: Sonucu BirleÅŸtir",
                desc: "7 ara sonucu kullanarak C matrisini oluÅŸtur",
                calc: "C11 = M1 + M4 - M5 + M7 = 48 - 10 - 8 - 12 = 18\nC12 = M3 + M5 = 6 + 8 = 14\nC21 = M2 + M4 = 72 - 10 = 62\nC22 = M1 - M2 + M3 + M6 = 48 - 72 + 6 + 84 = 66"
            },
            {
                title: "âœ… TAMAMLANDI!",
                desc: "SonuÃ§ matrisi C hesaplandÄ±",
                calc: "C = [[18, 14], [62, 66]]\n\n7 Ã§arpma ile klasik yÃ¶ntemin 8 Ã§arpmasÄ± yerine!"
            }
        ];

        function drawMatrix(x, y, matrix, label, highlight = []) {
            ctx.font = 'bold 18px Arial';
            ctx.fillStyle = '#333';
            ctx.fillText(label, x, y - 10);
            
            const cellSize = 60;
            const gap = 5;
            
            for (let i = 0; i < 2; i++) {
                for (let j = 0; j < 2; j++) {
                    const cellX = x + j * (cellSize + gap);
                    const cellY = y + i * (cellSize + gap);
                    
                    const isHighlight = highlight.some(([hi, hj]) => hi === i && hj === j);
                    
                    // HÃ¼cre arka planÄ±
                    ctx.fillStyle = isHighlight ? '#ffeaa7' : '#dfe6e9';
                    ctx.fillRect(cellX, cellY, cellSize, cellSize);
                    
                    // Ã‡erÃ§eve
                    ctx.strokeStyle = isHighlight ? '#fdcb6e' : '#b2bec3';
                    ctx.lineWidth = isHighlight ? 3 : 2;
                    ctx.strokeRect(cellX, cellY, cellSize, cellSize);
                    
                    // DeÄŸer
                    ctx.fillStyle = isHighlight ? '#d63031' : '#2d3436';
                    ctx.font = isHighlight ? 'bold 24px Arial' : 'bold 20px Arial';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(matrix[i][j], cellX + cellSize / 2, cellY + cellSize / 2);
                }
            }
        }

        function drawArrow(x1, y1, x2, y2, text = '') {
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(x1, y1);
            ctx.lineTo(x2, y2);
            ctx.stroke();
            
            // Ok baÅŸÄ±
            const angle = Math.atan2(y2 - y1, x2 - x1);
            ctx.beginPath();
            ctx.moveTo(x2, y2);
            ctx.lineTo(x2 - 15 * Math.cos(angle - Math.PI / 6), y2 - 15 * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(x2 - 15 * Math.cos(angle + Math.PI / 6), y2 - 15 * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fillStyle = '#667eea';
            ctx.fill();
            
            if (text) {
                ctx.fillStyle = '#333';
                ctx.font = 'bold 16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(text, (x1 + x2) / 2, (y1 + y2) / 2 - 10);
            }
        }

        function drawStep(step) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.textAlign = 'left';
            
            if (step === 0) {
                drawMatrix(100, 100, A, 'Matris A');
                drawMatrix(400, 100, B, 'Matris B');
                drawArrow(280, 150, 380, 150, 'Ã—');
                drawMatrix(700, 100, [[0, 0], [0, 0]], 'Matris C = ?');
            } else if (step === 1) {
                drawMatrix(100, 100, A, 'A - Alt Matrisler', [[0, 0], [0, 1], [1, 0], [1, 1]]);
                drawMatrix(400, 100, B, 'B - Alt Matrisler', [[0, 0], [0, 1], [1, 0], [1, 1]]);
                
                ctx.fillStyle = '#636e72';
                ctx.font = '14px Arial';
                ctx.fillText('A11', 120, 120);
                ctx.fillText('A12', 185, 120);
                ctx.fillText('A21', 120, 185);
                ctx.fillText('A22', 185, 185);
                
                ctx.fillText('B11', 420, 120);
                ctx.fillText('B12', 485, 120);
                ctx.fillText('B21', 420, 185);
                ctx.fillText('B22', 485, 185);
            } else if (step >= 2 && step <= 8) {
                const mIndex = step - 2;
                const highlights = [
                    [[0, 0], [1, 1]], // M1
                    [[1, 0], [1, 1]], // M2
                    [[0, 0]],         // M3
                    [[1, 1]],         // M4
                    [[0, 0], [0, 1]], // M5
                    [[1, 0], [0, 0]], // M6
                    [[0, 1], [1, 1]]  // M7
                ];
                
                drawMatrix(100, 100, A, 'Matris A', highlights[mIndex]);
                drawMatrix(400, 100, B, 'Matris B', highlights[mIndex]);
                
                // M deÄŸerini gÃ¶ster
                const mValues = [48, 72, 6, -10, 8, 84, -12];
                M[mIndex] = mValues[mIndex];
                
                ctx.fillStyle = '#667eea';
                ctx.font = 'bold 32px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`M${mIndex + 1} = ${M[mIndex]}`, 450, 350);
                
                // Ã–nceki M deÄŸerlerini gÃ¶ster
                ctx.font = '16px Arial';
                for (let i = 0; i < mIndex; i++) {
                    ctx.fillStyle = '#95a5a6';
                    ctx.fillText(`M${i + 1} = ${M[i]}`, 200 + (i % 4) * 120, 450 + Math.floor(i / 4) * 30);
                }
            } else if (step === 9) {
                // C matrisini hesapla
                C[0][0] = 18;
                C[0][1] = 14;
                C[1][0] = 62;
                C[1][1] = 66;
                
                drawMatrix(350, 100, C, 'SonuÃ§ C', [[0, 0], [0, 1], [1, 0], [1, 1]]);
                
                // M deÄŸerlerini gÃ¶ster
                ctx.font = '14px Arial';
                ctx.fillStyle = '#636e72';
                for (let i = 0; i < 7; i++) {
                    ctx.fillText(`M${i + 1}=${M[i]}`, 100 + (i % 4) * 100, 350 + Math.floor(i / 4) * 30);
                }
            } else if (step === 10) {
                drawMatrix(100, 100, A, 'A');
                drawMatrix(400, 100, B, 'B');
                drawMatrix(700, 100, C, 'C âœ“', [[0, 0], [0, 1], [1, 0], [1, 1]]);
                drawArrow(280, 150, 380, 150, 'Ã—');
                drawArrow(580, 150, 680, 150, '=');
                
                // Kutlama efekti
                ctx.fillStyle = '#00b894';
                ctx.font = 'bold 36px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ğŸ‰ BAÅARILI! ğŸ‰', 450, 400);
            }
            
            stepInfo.textContent = steps[step].title;
            calculation.innerHTML = steps[step].calc.replace(/\n/g, '<br>');
        }

        function animate() {
            if (!isPaused && !stepMode) {
                drawStep(currentStep);
                
                setTimeout(() => {
                    currentStep++;
                    if (currentStep < steps.length) {
                        animationId = requestAnimationFrame(animate);
                    } else {
                        startBtn.disabled = false;
                        pauseBtn.disabled = true;
                        stepBtn.disabled = false;
                    }
                }, speedSettings[animationSpeed]); // HÄ±z ayarÄ±na gÃ¶re bekleme sÃ¼resi
            }
        }

        startBtn.addEventListener('click', () => {
            if (currentStep >= steps.length) {
                currentStep = 0;
            }
            isPaused = false;
            stepMode = false;
            startBtn.disabled = true;
            pauseBtn.disabled = false;
            stepBtn.disabled = true;
            animate();
        });

        pauseBtn.addEventListener('click', () => {
            isPaused = !isPaused;
            pauseBtn.textContent = isPaused ? 'â–¶ï¸ Devam' : 'â¸ï¸ Duraklat';
            if (!isPaused) {
                animate();
            }
        });

        resetBtn.addEventListener('click', () => {
            currentStep = 0;
            isPaused = false;
            stepMode = false;
            cancelAnimationFrame(animationId);
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            stepBtn.disabled = false;
            pauseBtn.textContent = 'â¸ï¸ Duraklat';
            drawStep(0);
        });

        stepBtn.addEventListener('click', () => {
            stepMode = true;
            isPaused = false;
            startBtn.disabled = true;
            pauseBtn.disabled = true;
            
            if (currentStep < steps.length) {
                drawStep(currentStep);
                currentStep++;
            }
            
            if (currentStep >= steps.length) {
                stepBtn.disabled = true;
                startBtn.disabled = false;
            }
        });

        // Ä°lk Ã§izim
        drawStep(0);
    </script>
</body>
</html>
